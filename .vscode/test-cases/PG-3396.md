# Casos de Prueba - PG-3396
**Ticket:** Web - Permisos de Trabajo (Alta de Permisos de Trabajo - Buscador interno en listas desplegables)
**Ambiente de pruebas: test 2**

---

## TC-001. Búsqueda exitosa en campo "Planta" con coincidencia exacta

**Tipo:** Positivo

**Prompt para Agente (Instrucciones Atómicas):**

- **Precondición:** 
  - Usuario con permisos de acceso al módulo "Permisos de Trabajo" autenticado en CetApp GO - Test 2.
  - Existen múltiples plantas configuradas en el sistema (al menos 3 plantas).

- **Pasos:**
  1. Navegar al módulo "Permisos de Trabajo".
  2. Acceder a la sección "Alta de Permisos de Trabajo".
  3. Hacer clic en el campo desplegable "Planta".
  4. En el campo de búsqueda interno que aparece, escribir el nombre completo de una planta existente (ej: "Planta Central").
  5. Observar las opciones filtradas en el desplegable.

- **Validación:** 
  - El campo de búsqueda interno debe estar visible dentro del desplegable.
  - El desplegable debe mostrar únicamente la planta que coincide exactamente con el texto ingresado.
  - El usuario debe poder seleccionar la planta filtrada haciendo clic sobre ella.

---

## TC-002. Búsqueda con filtrado parcial en campo "Provincia"

**Tipo:** Positivo

**Prompt para Agente (Instrucciones Atómicas):**

- **Precondición:** 
  - Usuario con permisos de acceso al módulo "Permisos de Trabajo" autenticado en CetApp GO - Test 2.
  - Existen múltiples provincias en el sistema (al menos 5 provincias).

- **Pasos:**
  1. Navegar al módulo "Permisos de Trabajo".
  2. Acceder a la sección "Alta de Permisos de Trabajo".
  3. Hacer clic en el campo desplegable "Provincia".
  4. En el campo de búsqueda interno, escribir solo las primeras letras de una provincia (ej: "Bue" para provincias que empiezan con "Buenos").
  5. Observar cómo se actualizan las opciones mientras se escribe cada letra.

- **Validación:** 
  - El filtrado debe actualizarse de forma inmediata mientras el usuario escribe.
  - Solo deben mostrarse las provincias que coinciden parcialmente con el texto ingresado (ej: "Buenos Aires").
  - Las provincias que no coinciden no deben aparecer en la lista.

---

## TC-003. Búsqueda sin resultados en campo "Planta"

**Tipo:** Negativo

**Prompt para Agente (Instrucciones Atómicas):**

- **Precondición:** 
  - Usuario con permisos de acceso al módulo "Permisos de Trabajo" autenticado en CetApp GO - Test 2.
  - Existen múltiples plantas configuradas en el sistema.

- **Pasos:**
  1. Navegar al módulo "Permisos de Trabajo".
  2. Acceder a la sección "Alta de Permisos de Trabajo".
  3. Hacer clic en el campo desplegable "Planta".
  4. En el campo de búsqueda interno, escribir un texto que no coincida con ninguna planta existente (ej: "XYZ123Inexistente").
  5. Observar el resultado del filtrado.

- **Validación:** 
  - El sistema debe informar que no hay resultados disponibles.
  - No debe mostrarse ninguna opción en el desplegable.
  - El mensaje de "sin resultados" debe ser claro y visible.

---

## TC-004. Limpiar búsqueda y restaurar todas las opciones en campo "Provincia"

**Tipo:** Positivo

**Prompt para Agente (Instrucciones Atómicas):**

- **Precondición:** 
  - Usuario con permisos de acceso al módulo "Permisos de Trabajo" autenticado en CetApp GO - Test 2.
  - Existen múltiples provincias en el sistema.

- **Pasos:**
  1. Navegar al módulo "Permisos de Trabajo".
  2. Acceder a la sección "Alta de Permisos de Trabajo".
  3. Hacer clic en el campo desplegable "Provincia".
  4. Escribir un texto en el campo de búsqueda que filtre las opciones (ej: "Córdoba").
  5. Verificar que se muestran solo las provincias filtradas.
  6. Borrar completamente el texto del campo de búsqueda.
  7. Observar las opciones disponibles.

- **Validación:** 
  - Al borrar el texto de búsqueda, deben restaurarse todas las provincias disponibles en el desplegable.
  - El comportamiento del desplegable debe volver a su estado inicial mostrando todas las opciones.

---

## TC-005. Búsqueda sensible a mayúsculas/minúsculas en campo "Planta"

**Tipo:** Positivo

**Prompt para Agente (Instrucciones Atómicas):**

- **Precondición:** 
  - Usuario con permisos de acceso al módulo "Permisos de Trabajo" autenticado en CetApp GO - Test 2.
  - Existen múltiples plantas configuradas en el sistema.

- **Pasos:**
  1. Navegar al módulo "Permisos de Trabajo".
  2. Acceder a la sección "Alta de Permisos de Trabajo".
  3. Hacer clic en el campo desplegable "Planta".
  4. Escribir el nombre de una planta usando diferentes combinaciones de mayúsculas y minúsculas (ej: "planta central", "PLANTA CENTRAL", "Planta Central").
  5. Observar si el filtrado encuentra coincidencias en cada caso.

- **Validación:** 
  - El filtrado debe ser insensible a mayúsculas/minúsculas (case-insensitive).
  - Debe mostrar las mismas plantas independientemente de cómo se escriba el texto (mayúsculas o minúsculas).

---

## TC-006. Selección de opción filtrada en campo "Provincia"

**Tipo:** Positivo

**Prompt para Agente (Instrucciones Atómicas):**

- **Precondición:** 
  - Usuario con permisos de acceso al módulo "Permisos de Trabajo" autenticado en CetApp GO - Test 2.
  - Existen múltiples provincias en el sistema.

- **Pasos:**
  1. Navegar al módulo "Permisos de Trabajo".
  2. Acceder a la sección "Alta de Permisos de Trabajo".
  3. Hacer clic en el campo desplegable "Provincia".
  4. Escribir texto para filtrar opciones (ej: "Santa Fe").
  5. Una vez filtradas las opciones, hacer clic en la provincia deseada de la lista filtrada.
  6. Verificar que el campo desplegable se cierra.

- **Validación:** 
  - El valor seleccionado debe aparecer en el campo "Provincia".
  - El desplegable debe cerrarse automáticamente después de la selección.
  - El flujo de selección debe ser idéntico al de un desplegable tradicional sin buscador.

---

## TC-007. Abrir y cerrar desplegable sin realizar búsqueda en campo "Planta"

**Tipo:** Positivo

**Prompt para Agente (Instrucciones Atómicas):**

- **Precondición:** 
  - Usuario con permisos de acceso al módulo "Permisos de Trabajo" autenticado en CetApp GO - Test 2.
  - Existen múltiples plantas configuradas en el sistema.

- **Pasos:**
  1. Navegar al módulo "Permisos de Trabajo".
  2. Acceder a la sección "Alta de Permisos de Trabajo".
  3. Hacer clic en el campo desplegable "Planta".
  4. Verificar que se muestra el campo de búsqueda y todas las opciones disponibles.
  5. Sin escribir nada en el campo de búsqueda, cerrar el desplegable (clic fuera o presionar ESC).

- **Validación:** 
  - El campo de búsqueda debe ser visible inmediatamente al abrir el desplegable.
  - Todas las plantas deben estar visibles sin necesidad de escribir.
  - El desplegable debe cerrarse correctamente sin seleccionar ninguna opción.
  - El campo "Planta" debe permanecer vacío o con su valor anterior.

---

## TC-008. Búsqueda con caracteres especiales en campo "Provincia"

**Tipo:** Negativo

**Prompt para Agente (Instrucciones Atómicas):**

- **Precondición:** 
  - Usuario con permisos de acceso al módulo "Permisos de Trabajo" autenticado en CetApp GO - Test 2.
  - Existen múltiples provincias en el sistema.

- **Pasos:**
  1. Navegar al módulo "Permisos de Trabajo".
  2. Acceder a la sección "Alta de Permisos de Trabajo".
  3. Hacer clic en el campo desplegable "Provincia".
  4. Escribir caracteres especiales en el campo de búsqueda (ej: "@#$%", "***", "---").
  5. Observar el comportamiento del filtrado.

- **Validación:** 
  - El sistema debe manejar caracteres especiales sin errores.
  - Si no existen coincidencias, debe mostrar el mensaje de "sin resultados".
  - El campo de búsqueda no debe permitir la ejecución de scripts o código malicioso.

---
